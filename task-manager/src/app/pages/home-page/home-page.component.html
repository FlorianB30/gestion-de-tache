<div class="flex-row">
    <div>
        <p (click)="openNewProjectForm()">+ Nouveau projet</p>
        <p (click)="openNewTaskForm()">+ Nouvelle tâche</p>
    </div>
    <form class="flex-row" [formGroup]="filtersForm" (ngSubmit)="filterProjects()">
        <div>
            <label for="tag">recherche par tag</label>
            <input name="tag" />
        </div>
        <div>
            <label for="user_id">Recherche par collaborateur</label>
            <select formControlname="user_id">
                @for(user of users; track user.user_id) {
                <option [value]="user.user_id">{{user.mail}}</option>
                }
            </select>
        </div>
        <button type="submit">Filtrer</button>
    </form>
    <p (click)="resetFilters()">Reset</p>
</div>

<div class="head-taks">
    <p>Titre</p>
    <p>Créée le</p>
    <p>Deadline</p>
    <p>Temps réalisé</p>
    <p>Temps estimé</p>
    <p>Statut</p>
    <p>Priorité</p>
</div>
@for(project of projects; track project.project_id) {
<div class="flex-row-space">
    <h2>{{project.name}}</h2>
    <button (click)="deleteProject(project.project_id)">Supprimer le projet</button>
</div>
@for(task of project.Tasks; track task.task_id) {
<app-task-line [task]="task"></app-task-line>
}
}
<app-new-task-box (style)="changeStyleTaskForm($event)" [class]="styleNewTaskForm"></app-new-task-box>
<app-new-project-box (style)="changeStyleProjectForm($event)" [class]="styleNewProjectForm"></app-new-project-box>